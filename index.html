<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Career & Skill Advisor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #8b5cf6 0%, #f59e0b 50%, #06b6d4 100%);
            position: relative;
            overflow: hidden;
        }
        
        .gradient-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.15"/><circle cx="20" cy="80" r="0.5" fill="white" opacity="0.15"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(1deg); }
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .card-hover::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .card-hover:hover::before {
            left: 100%;
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        .neon-button {
            position: relative;
            background: linear-gradient(45deg, #8b5cf6, #f59e0b, #06b6d4);
            border: none;
            border-radius: 50px;
            padding: 15px 30px;
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
        }
        
        .neon-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }
        
        .neon-button:hover::before {
            left: 100%;
        }
        
        .neon-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
        }
        
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #8b5cf6;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            position: relative;
        }
        
        .loading-spinner::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border: 2px solid transparent;
            border-top: 2px solid #f59e0b;
            border-radius: 50%;
            animation: spin 2s linear infinite reverse;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .fade-in {
            animation: fadeInUp 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px) scale(0.95);
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(139, 92, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
        }
        
        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float-shapes 15s infinite linear;
        }
        
        .shape:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .shape:nth-child(2) {
            top: 60%;
            right: 10%;
            animation-delay: 5s;
        }
        
        .shape:nth-child(3) {
            bottom: 20%;
            left: 20%;
            animation-delay: 10s;
        }
        
        @keyframes float-shapes {
            0% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(120deg); }
            66% { transform: translateY(10px) rotate(240deg); }
            100% { transform: translateY(0px) rotate(360deg); }
        }
        
        .gradient-text {
            background: linear-gradient(45deg, #7c3aed, #d97706, #0891b2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }
        
        .skill-tag {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(139, 92, 246, 0.3);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        
        .skill-tag:hover {
            background: rgba(255, 255, 255, 0.95);
            border-color: #8b5cf6;
            transform: translateY(-2px);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #8b5cf6, #f59e0b, #06b6d4);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .modal-backdrop {
            backdrop-filter: blur(8px);
            background: rgba(0, 0, 0, 0.4);
        }
        
        .modal-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        input, textarea, select {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: 12px;
            transition: all 0.3s ease;
            color: #1f2937;
        }
        
        input:focus, textarea:focus, select:focus {
            background: rgba(255, 255, 255, 1);
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
            outline: none;
        }

        .typing-indicator {
            display: inline-flex;
            align-items: center;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background: #8b5cf6;
            border-radius: 50%;
            display: inline-block;
            margin: 0 1px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .score-ring {
            width: 100px;
            height: 100px;
            position: relative;
        }
        
        .score-ring svg {
            transform: rotate(-90deg);
            width: 100%;
            height: 100%;
        }
        
        .score-ring circle {
            fill: none;
            stroke-width: 8;
            stroke-linecap: round;
        }
        
        .score-ring .bg {
            stroke: #e5e7eb;
        }
        
        .score-ring .progress {
            stroke: #8b5cf6;
            stroke-dasharray: 251.2;
            stroke-dashoffset: 251.2;
            transition: stroke-dashoffset 1s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
        <div class="shape w-20 h-20 bg-gradient-to-r from-purple-500 to-violet-600 rounded-full"></div>
        <div class="shape w-16 h-16 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full"></div>
        <div class="shape w-12 h-12 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full"></div>
    </div>

    <!-- Header -->
    <header class="gradient-bg text-white py-8 relative">
        <div class="container mx-auto px-4 relative z-10">
            <h1 class="text-4xl md:text-5xl font-bold text-center text-white mb-4">
                🚀 AI Career & Skill Advisor
            </h1>
            <p class="text-center text-lg text-white/90 max-w-2xl mx-auto font-medium">
                Discover your perfect career path with AI-powered insights and personalized recommendations
            </p>
            <div class="flex justify-center mt-6">
                <div class="flex space-x-2">
                    <div class="w-3 h-3 bg-white/30 rounded-full animate-pulse"></div>
                    <div class="w-3 h-3 bg-white/50 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                    <div class="w-3 h-3 bg-white/70 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="text-center mb-8 fade-in">
            <div class="glass-card p-10 max-w-3xl mx-auto relative overflow-hidden">
                <div class="text-7xl mb-6 pulse-animation">🎯</div>
                <h2 class="text-3xl font-bold mb-6 text-gray-900">Welcome to Your Career Journey</h2>
                <p class="text-gray-800 mb-8 text-lg leading-relaxed font-medium">Our AI-powered advisor helps you discover career paths that match your interests and skills, while providing responsible, unbiased guidance for your professional growth.</p>
                <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
                    <button onclick="startAssessment()" class="neon-button text-lg px-10 py-4">
                        Start Career Assessment
                    </button>
                    <button onclick="showAITools()" class="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white px-10 py-4 rounded-full font-semibold transition-all transform hover:scale-105">
                        Explore AI Tools
                    </button>
                </div>
                <div class="mt-8 flex justify-center space-x-8 text-sm text-gray-700 font-medium">
                    <div class="flex items-center">
                        <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
                        AI-Powered
                    </div>
                    <div class="flex items-center">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mr-2"></span>
                        Personalized
                    </div>
                    <div class="flex items-center">
                        <span class="w-2 h-2 bg-purple-500 rounded-full mr-2"></span>
                        Responsible
                    </div>
                </div>
            </div>
        </div>

        <!-- Assessment Form -->
        <div id="assessmentForm" class="hidden">
            <div class="glass-card p-10 max-w-5xl mx-auto">
                <h2 class="text-3xl font-bold mb-8 gradient-text text-center">Tell Us About Yourself</h2>
                
                <form id="careerForm">
                    <!-- Current Skills -->
                    <div class="mb-8">
                        <label class="block text-xl font-bold text-gray-900 mb-4">Current Skills (Select all that apply)</label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Programming" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">💻 Programming</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Data Analysis" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">📊 Data Analysis</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Design" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🎨 Design</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Marketing" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">📈 Marketing</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Writing" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">✍️ Writing</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Sales" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">💼 Sales</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Project Management" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">📋 Project Management</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="skills" value="Communication" class="rounded text-purple-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🗣️ Communication</span>
                            </label>
                        </div>
                    </div>

                    <!-- Interests -->
                    <div class="mb-8">
                        <label class="block text-xl font-bold text-gray-900 mb-4">Interests (Select all that apply)</label>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="interests" value="Technology" class="rounded text-amber-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🚀 Technology</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="interests" value="Healthcare" class="rounded text-amber-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🏥 Healthcare</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="interests" value="Education" class="rounded text-amber-500 w-5 h-5">
                                <span class="font-bold text-gray-900">📚 Education</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="interests" value="Finance" class="rounded text-amber-500 w-5 h-5">
                                <span class="font-bold text-gray-900">💰 Finance</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="interests" value="Creative Arts" class="rounded text-amber-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🎭 Creative Arts</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="checkbox" name="interests" value="Environment" class="rounded text-amber-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🌱 Environment</span>
                            </label>
                        </div>
                    </div>

                    <!-- Work Style -->
                    <div class="mb-8">
                        <label class="block text-xl font-bold text-gray-900 mb-4">Preferred Work Style</label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="radio" name="workStyle" value="Remote" class="text-cyan-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🏠 Remote</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="radio" name="workStyle" value="On-site" class="text-cyan-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🏢 On-site</span>
                            </label>
                            <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                                <input type="radio" name="workStyle" value="Hybrid" class="text-cyan-500 w-5 h-5">
                                <span class="font-bold text-gray-900">🔄 Hybrid</span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="neon-button w-full text-lg py-4">
                        Get AI Career Recommendations ✨
                    </button>
                </form>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="hidden text-center py-12">
            <div class="glass-card p-10 max-w-lg mx-auto">
                <div class="loading-spinner mx-auto mb-6"></div>
                <h3 class="text-2xl font-bold text-gray-900 mb-4">Analyzing Your Profile</h3>
                <p class="text-gray-800 text-lg mb-6 font-medium">Our AI is processing your skills and interests to find the best career matches...</p>
                <div class="flex justify-center space-x-2">
                    <div class="w-2 h-2 bg-purple-500 rounded-full animate-bounce"></div>
                    <div class="w-2 h-2 bg-amber-500 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                    <div class="w-2 h-2 bg-cyan-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                </div>
            </div>
        </div>

        <!-- AI Tools Section -->
        <div id="aiToolsSection" class="hidden mb-8">
            <div class="glass-card p-8">
                <h2 class="text-3xl font-bold gradient-text mb-8 text-center">🤖 AI-Powered Career Tools</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                    
                    <div class="glass-card p-6 card-hover cursor-pointer group" onclick="openResumeBuilder()">
                        <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">📄</div>
                        <h3 class="font-bold text-gray-900 mb-3 text-lg">AI Resume Builder</h3>
                        <p class="text-gray-700 font-medium">Create professional, ATS-optimized resumes</p>
                        <div class="mt-4 text-purple-500 font-semibold">Try Now →</div>
                    </div>
                    
                    <div class="glass-card p-6 card-hover cursor-pointer group" onclick="openInterviewPrep()">
                        <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">🎤</div>
                        <h3 class="font-bold text-gray-900 mb-3 text-lg">Interview Prep AI</h3>
                        <p class="text-gray-700 font-medium">Practice with AI-generated interview questions</p>
                        <div class="mt-4 text-amber-500 font-semibold">Try Now →</div>
                    </div>
                    
                    <div class="glass-card p-6 card-hover cursor-pointer group" onclick="openSalaryNegotiator()">
                        <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">💰</div>
                        <h3 class="font-bold text-gray-900 mb-3 text-lg">Salary Negotiator</h3>
                        <p class="text-gray-700 font-medium">Get AI insights on salary ranges and negotiation tips</p>
                        <div class="mt-4 text-cyan-500 font-semibold">Try Now →</div>
                    </div>

                    <div class="glass-card p-6 card-hover cursor-pointer group" onclick="openRoadmap()">
                        <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">🗺️</div>
                        <h3 class="font-bold text-gray-900 mb-3 text-lg">Career Roadmap</h3>
                        <p class="text-gray-700 font-medium">Generate personalized career and skill roadmaps</p>
                        <div class="mt-4 text-green-500 font-semibold">Explore →</div>
                    </div>
                </div>

                <div class="mt-8 text-center">
                    <button onclick="startAssessment()" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8 py-3 rounded-full font-semibold transition-all transform hover:scale-105">
                        🎯 Take Full Career Assessment
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden">
            <div class="mb-6 text-center">
                <h2 class="text-2xl font-semibold text-gray-900 mb-2">Your AI-Generated Career Recommendations</h2>
                <p class="text-sm text-gray-600">⚠️ AI-generated advice. Please verify before making decisions.</p>
            </div>

            <div id="careerRecommendations" class="grid gap-6 mb-8">
                <!-- Career cards will be inserted here -->
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-900">📚 Your Personalized Learning Path</h3>
                <div id="learningPath" class="space-y-4">
                    <!-- Learning recommendations will be inserted here -->
                </div>
            </div>

            <div class="mt-8 text-center space-x-4">
                <button onclick="saveResults()" class="bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white px-6 py-2 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg">
                    💾 Save Results
                </button>
                <button onclick="showAITools()" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg">
                    🤖 Try AI Tools
                </button>
                <button onclick="startOver()" class="bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-2 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg">
                    🔄 Start Over
                </button>
            </div>
        </div>

        <!-- Saved Results -->
        <div id="savedResults" class="hidden">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-900">📋 Your Saved Career Assessments</h3>
                <div id="savedResultsList">
                    <!-- Saved results will be displayed here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">Built with responsible AI principles • Confidence ratings included • No personal data stored without consent</p>
        </div>
    </footer>

    <!-- Interview Prep Modal -->
    <div id="interviewModal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50">
        <div class="modal-content p-8 max-w-4xl mx-4 max-h-[90vh] overflow-y-auto w-full">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-3xl font-bold gradient-text">🎤 AI Interview Prep</h3>
                <button onclick="closeInterviewPrep()" class="text-gray-500 hover:text-gray-700 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Interview Setup -->
            <div id="interviewSetup" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-lg font-semibold text-gray-900 mb-3">Select Job Role</label>
                        <select id="jobRole" class="w-full p-4 border rounded-lg text-gray-900 font-medium">
                            <option value="">Choose a role...</option>
                            <option value="Software Developer">Software Developer</option>
                            <option value="Data Scientist">Data Scientist</option>
                            <option value="UX Designer">UX/UI Designer</option>
                            <option value="Marketing Manager">Marketing Manager</option>
                            <option value="Product Manager">Product Manager</option>
                            <option value="Sales Representative">Sales Representative</option>
                            <option value="Business Analyst">Business Analyst</option>
                            <option value="Project Manager">Project Manager</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-lg font-semibold text-gray-900 mb-3">Experience Level</label>
                        <select id="experienceLevel" class="w-full p-4 border rounded-lg text-gray-900 font-medium">
                            <option value="">Select level...</option>
                            <option value="Entry Level">Entry Level (0-2 years)</option>
                            <option value="Mid Level">Mid Level (3-5 years)</option>
                            <option value="Senior Level">Senior Level (6+ years)</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-lg font-semibold text-gray-900 mb-3">Interview Type</label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                            <input type="radio" name="interviewType" value="behavioral" class="text-purple-500 w-5 h-5">
                            <span class="font-bold text-gray-900">🧠 Behavioral</span>
                        </label>
                        <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                            <input type="radio" name="interviewType" value="technical" class="text-purple-500 w-5 h-5">
                            <span class="font-bold text-gray-900">⚙️ Technical</span>
                        </label>
                        <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                            <input type="radio" name="interviewType" value="situational" class="text-purple-500 w-5 h-5">
                            <span class="font-bold text-gray-900">🎯 Situational</span>
                        </label>
                        <label class="skill-tag flex items-center space-x-3 cursor-pointer p-4 rounded-xl">
                            <input type="radio" name="interviewType" value="mixed" class="text-purple-500 w-5 h-5">
                            <span class="font-bold text-gray-900">🔀 Mixed</span>
                        </label>
                    </div>
                </div>
                
                <button onclick="startInterview()" class="neon-button w-full text-lg py-4">
                    Start Mock Interview ▶️
                </button>
            </div>
            
            <!-- Interview Session -->
            <div id="interviewSession" class="hidden">
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center space-x-4">
                            <div class="score-ring">
                                <svg viewBox="0 0 100 100">
                                    <circle class="bg" cx="50" cy="50" r="40"></circle>
                                    <circle class="progress" cx="50" cy="50" r="40" id="scoreCircle"></circle>
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <span id="currentScore" class="text-xl font-bold text-purple-600">0%</span>
                                </div>
                            </div>
                            <div>
                                <h4 class="text-lg font-semibold text-gray-900">Interview Progress</h4>
                                <p class="text-gray-600">Question <span id="questionNumber">1</span> of <span id="totalQuestions">5</span></p>
                            </div>
                        </div>
                        <button onclick="endInterview()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium">
                            End Interview
                        </button>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xl">
                            AI
                        </div>
                        <div class="flex-1">
                            <div id="interviewerMessage" class="text-gray-900 font-medium text-lg"></div>
                            <div id="typingIndicator" class="typing-indicator mt-2 hidden">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-lg font-semibold text-gray-900 mb-3">Your Answer</label>
                        <textarea id="userAnswer" class="w-full p-4 border rounded-lg h-32 text-gray-900" placeholder="Type your answer here..."></textarea>
                    </div>
                    
                    <div class="flex space-x-4">
                        <button onclick="submitAnswer()" class="bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white px-6 py-3 rounded-lg font-medium flex-1">
                            Submit Answer ✅
                        </button>
                        <button onclick="skipQuestion()" class="bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-lg font-medium">
                            Skip Question ⏭️
                        </button>
                    </div>
                </div>
                
                <div id="feedback" class="hidden mt-6 p-6 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                    <h4 class="text-lg font-semibold text-blue-900 mb-2">AI Feedback</h4>
                    <div id="feedbackContent" class="text-blue-800"></div>
                    <div class="mt-4 flex space-x-4">
                        <div class="text-sm">
                            <span class="font-semibold">Strengths:</span>
                            <div id="strengths" class="text-green-700"></div>
                        </div>
                        <div class="text-sm">
                            <span class="font-semibold">Areas to improve:</span>
                            <div id="improvements" class="text-orange-700"></div>
                        </div>
                    </div>
                    <button onclick="nextQuestion()" class="mt-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium">
                        Next Question →
                    </button>
                </div>
            </div>
            
            <!-- Interview Results -->
            <div id="interviewResults" class="hidden">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">🎉</div>
                    <h3 class="text-2xl font-bold gradient-text mb-2">Interview Complete!</h3>
                    <p class="text-gray-600">Here's your performance summary</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg">
                        <h4 class="text-xl font-semibold mb-4 text-gray-900">Overall Score</h4>
                        <div class="score-ring mx-auto mb-4">
                            <svg viewBox="0 0 100 100">
                                <circle class="bg" cx="50" cy="50" r="40"></circle>
                                <circle class="progress" cx="50" cy="50" r="40" id="finalScoreCircle"></circle>
                            </svg>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <span id="finalScore" class="text-2xl font-bold text-purple-600">0%</span>
                            </div>
                        </div>
                        <div id="scoreBreakdown" class="space-y-2 text-sm"></div>
                    </div>
                    
                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg">
                        <h4 class="text-xl font-semibold mb-4 text-gray-900">Key Insights</h4>
                        <div id="keyInsights" class="space-y-3 text-sm"></div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg border">
                    <h4 class="text-xl font-semibold mb-4 text-gray-900">Personalized Recommendations</h4>
                    <div id="recommendations" class="space-y-4"></div>
                </div>
                
                <div class="mt-8 text-center space-x-4">
                    <button onclick="retryInterview()" class="bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-medium">
                        🔄 Try Another Interview
                    </button>
                    <button onclick="saveInterviewResults()" class="bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white px-6 py-3 rounded-lg font-medium">
                        💾 Save Results
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Tool Modal -->
    <div id="aiToolModal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50">
        <div class="modal-content p-8 max-w-2xl mx-4 max-h-96 overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 id="aiToolTitle" class="text-2xl font-bold gradient-text"></h3>
                <button onclick="closeAIToolModal()" class="text-gray-500 hover:text-gray-700 text-3xl font-bold">&times;</button>
            </div>
            <div id="aiToolContent" class="space-y-4">
                <!-- AI tool content will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedbackModal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50">
        <div class="modal-content p-8 max-w-md mx-4">
            <h3 class="text-xl font-bold gradient-text mb-4">Feedback on Recommendation</h3>
            <p class="text-gray-800 mb-6 font-medium">Was this career recommendation helpful?</p>
            <div class="flex space-x-4">
                <button onclick="submitFeedback('positive')" class="neon-button px-6 py-3">
                    👍 Helpful
                </button>
                <button onclick="submitFeedback('negative')" class="bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105">
                    👎 Not Helpful
                </button>
                <button onclick="closeFeedbackModal()" class="bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Resume Builder Modal -->
    <div id="resumeModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
        <div class="glass-card relative w-[90vw] h-[90vh] p-4 overflow-hidden">
            <button onclick="closeResumeBuilder()" class="absolute top-4 right-6 text-2xl font-bold text-gray-600 hover:text-gray-900">&times;</button>
            <h3 class="text-2xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent">
                📄 AI Resume Builder
            </h3>
            <iframe src="https://resumelm.com" title="AI Resume Builder" class="w-full h-full rounded-lg"></iframe>
        </div>
    </div>

    <!-- Salary Negotiator Modal -->
    <div id="salaryModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
        <div class="glass-card relative w-[90vw] h-[90vh] p-4 overflow-hidden">
            <button onclick="closeSalaryNegotiator()" class="absolute top-4 right-6 text-2xl font-bold text-gray-600 hover:text-gray-900">&times;</button>
            <h3 class="text-2xl font-bold mb-4 bg-gradient-to-r from-green-600 to-teal-500 bg-clip-text text-transparent">
                💰 Salary Negotiator AI
            </h3>
            <iframe src="indexx.html" title="Salary Negotiator" class="w-full h-full rounded-lg"></iframe>
        </div>
    </div>

    <!-- Career Roadmap Modal -->
    <div id="roadmapModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
        <div class="glass-card relative w-[90vw] h-[90vh] p-4 overflow-hidden">
            <button onclick="closeRoadmap()" class="absolute top-4 right-6 text-2xl font-bold text-gray-600 hover:text-gray-900">&times;</button>
            <h3 class="text-2xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-500 bg-clip-text text-transparent">
                🗺️ Career Roadmap Generator
            </h3>
            <iframe src="ai_career_roadmap.html" title="Career Roadmap" class="w-full h-full rounded-lg"></iframe>
        </div>
    </div>

    <script>
        // Global variables
        let currentAssessment = null;
        let currentFeedbackCareer = null;
        let interviewState = {
            currentQuestion: 0,
            totalQuestions: 5,
            score: 0,
            answers: [],
            jobRole: '',
            experienceLevel: '',
            interviewType: '',
            questions: []
        };

        // Interview Questions Database
        const interviewQuestions = {
            'Software Developer': {
                behavioral: [
                    "Tell me about a challenging bug you had to fix. How did you approach it?",
                    "Describe a time when you had to learn a new technology quickly for a project.",
                    "How do you handle code reviews and feedback from your peers?",
                    "Tell me about a time when you disagreed with a technical decision. How did you handle it?",
                    "Describe your experience working in an agile development environment."
                ],
                technical: [
                    "Explain the difference between == and === in JavaScript.",
                    "What is the time complexity of searching in a binary search tree?",
                    "How would you implement a simple caching system?",
                    "Explain the concept of RESTful APIs and their principles.",
                    "What are the advantages and disadvantages of microservices architecture?"
                ],
                situational: [
                    "How would you approach debugging a production issue that you can't reproduce locally?",
                    "If you had to choose between meeting a deadline and writing clean, maintainable code, what would you do?",
                    "How would you handle a situation where a client wants to add a feature that you know will cause technical debt?",
                    "What would you do if you discovered a security vulnerability in your application?",
                    "How would you explain a complex technical concept to a non-technical stakeholder?"
                ]
            },
            'Data Scientist': {
                behavioral: [
                    "Tell me about a data project where your initial hypothesis was wrong. How did you adapt?",
                    "Describe a time when you had to present complex findings to a non-technical audience.",
                    "How do you stay updated with the latest developments in data science?",
                    "Tell me about a challenging data cleaning task you've faced.",
                    "Describe your experience collaborating with other departments on data-driven projects."
                ],
                technical: [
                    "Explain the bias-variance tradeoff in machine learning.",
                    "When would you use a decision tree versus a neural network?",
                    "How do you handle missing data in your datasets?",
                    "Explain the difference between supervised and unsupervised learning.",
                    "What metrics would you use to evaluate a classification model?"
                ],
                situational: [
                    "How would you approach a project with messy, incomplete data?",
                    "What would you do if your model's performance suddenly drops in production?",
                    "How would you convince stakeholders to invest in data quality improvements?",
                    "If you had limited time to deliver insights, how would you prioritize your analysis?",
                    "How would you handle conflicting requirements from different business units?"
                ]
            }
            // Add more roles as needed
        };

        // AI Career Database (Simulated AI responses)
        const careerDatabase = {
            'Programming,Technology': {
                title: 'Software Developer',
                description: 'Build applications and systems that solve real-world problems using various programming languages and frameworks.',
                skills: ['JavaScript', 'Python', 'React', 'Database Design'],
                demand: 95,
                confidence: 92,
                reasoning: 'Strong match based on programming skills and technology interest. High market demand.'
            },
            'Data Analysis,Technology': {
                title: 'Data Scientist',
                description: 'Extract insights from complex datasets to drive business decisions and create predictive models.',
                skills: ['Python', 'SQL', 'Machine Learning', 'Statistics'],
                demand: 90,
                confidence: 88,
                reasoning: 'Excellent alignment with analytical skills and tech interest. Growing field with high demand.'
            },
            'Design,Creative Arts': {
                title: 'UX/UI Designer',
                description: 'Create intuitive and beautiful user experiences for digital products and applications.',
                skills: ['Figma', 'User Research', 'Prototyping', 'Design Systems'],
                demand: 85,
                confidence: 90,
                reasoning: 'Perfect match for design skills and creative interests. Strong job market growth.'
            },
            'Marketing,Technology': {
                title: 'Digital Marketing Specialist',
                description: 'Develop and execute online marketing strategies to reach and engage target audiences.',
                skills: ['SEO', 'Google Analytics', 'Content Marketing', 'Social Media'],
                demand: 80,
                confidence: 85,
                reasoning: 'Good combination of marketing skills with technology interest. Versatile career path.'
            },
            'Writing,Education': {
                title: 'Content Strategist',
                description: 'Create compelling content strategies that educate and engage audiences across various platforms.',
                skills: ['Content Writing', 'SEO', 'Analytics', 'Editorial Planning'],
                demand: 75,
                confidence: 82,
                reasoning: 'Strong match for writing skills and educational interest. Growing demand for quality content.'
            }
        };

        const learningResources = {
            'Software Developer': [
                { name: 'freeCodeCamp', type: 'Free', description: 'Complete web development curriculum' },
                { name: 'Coursera - Full Stack Development', type: 'Paid', description: 'University-level courses' },
                { name: 'YouTube - Programming with Mosh', type: 'Free', description: 'Practical coding tutorials' }
            ],
            'Data Scientist': [
                { name: 'Kaggle Learn', type: 'Free', description: 'Hands-on data science courses' },
                { name: 'Coursera - Data Science Specialization', type: 'Paid', description: 'Johns Hopkins University program' },
                { name: 'YouTube - StatQuest', type: 'Free', description: 'Statistics and ML concepts' }
            ],
            'UX/UI Designer': [
                { name: 'Google UX Design Certificate', type: 'Paid', description: 'Industry-recognized certification' },
                { name: 'Figma Academy', type: 'Free', description: 'Learn the leading design tool' },
                { name: 'YouTube - AJ&Smart', type: 'Free', description: 'Design thinking and processes' }
            ],
            'Digital Marketing Specialist': [
                { name: 'Google Digital Marketing Courses', type: 'Free', description: 'Official Google training' },
                { name: 'HubSpot Academy', type: 'Free', description: 'Inbound marketing certification' },
                { name: 'Coursera - Digital Marketing Specialization', type: 'Paid', description: 'University of Illinois program' }
            ],
            'Content Strategist': [
                { name: 'Content Marketing Institute', type: 'Free', description: 'Industry best practices' },
                { name: 'Coursera - Content Strategy', type: 'Paid', description: 'UC Davis program' },
                { name: 'YouTube - Ann Handley', type: 'Free', description: 'Content marketing expertise' }
            ]
        };

        // Initialize app
        function init() {
            loadSavedResults();
            showWelcomeScreen();
        }

        function showWelcomeScreen() {
            hideAllScreens();
            document.getElementById('welcomeScreen').classList.remove('hidden');
        }

        function startAssessment() {
            hideAllScreens();
            document.getElementById('assessmentForm').classList.remove('hidden');
            document.getElementById('assessmentForm').classList.add('fade-in');
        }

        function showAITools() {
            hideAllScreens();
            document.getElementById('aiToolsSection').classList.remove('hidden');
            document.getElementById('aiToolsSection').classList.add('fade-in');
        }

        function hideAllScreens() {
            const screens = ['welcomeScreen', 'assessmentForm', 'loadingScreen', 'resultsScreen', 'savedResults', 'aiToolsSection'];
            screens.forEach(screen => {
                document.getElementById(screen).classList.add('hidden');
                document.getElementById(screen).classList.remove('fade-in');
            });
        }

        // Interview Prep Functions
        function openInterviewPrep() {
            document.getElementById('interviewModal').classList.remove('hidden');
            document.getElementById('interviewModal').classList.add('flex');
            resetInterviewState();
        }

        function closeInterviewPrep() {
            document.getElementById('interviewModal').classList.add('hidden');
            document.getElementById('interviewModal').classList.remove('flex');
        }

        function resetInterviewState() {
            interviewState = {
                currentQuestion: 0,
                totalQuestions: 5,
                score: 0,
                answers: [],
                jobRole: '',
                experienceLevel: '',
                interviewType: '',
                questions: []
            };
            
            // Show setup, hide other sections
            document.getElementById('interviewSetup').classList.remove('hidden');
            document.getElementById('interviewSession').classList.add('hidden');
            document.getElementById('interviewResults').classList.add('hidden');
        }

        function startInterview() {
            const jobRole = document.getElementById('jobRole').value;
            const experienceLevel = document.getElementById('experienceLevel').value;
            const interviewType = document.querySelector('input[name="interviewType"]:checked');

            if (!jobRole || !experienceLevel || !interviewType) {
                alert('Please fill in all fields to start the interview.');
                return;
            }

            interviewState.jobRole = jobRole;
            interviewState.experienceLevel = experienceLevel;
            interviewState.interviewType = interviewType.value;

            // Generate questions
            generateInterviewQuestions();

            // Show interview session
            document.getElementById('interviewSetup').classList.add('hidden');
            document.getElementById('interviewSession').classList.remove('hidden');
            
            // Start first question
            displayQuestion();
        }

        function generateInterviewQuestions() {
            const roleQuestions = interviewQuestions[interviewState.jobRole];
            if (!roleQuestions) {
                // Fallback questions for roles not in database
                interviewState.questions = [
                    "Tell me about yourself and your experience.",
                    "Why are you interested in this role?",
                    "What are your greatest strengths and weaknesses?",
                    "Describe a challenging situation you faced and how you handled it.",
                    "Where do you see yourself in 5 years?"
                ];
                return;
            }

            let questionPool = [];
            if (interviewState.interviewType === 'mixed') {
                questionPool = [...roleQuestions.behavioral, ...roleQuestions.technical, ...roleQuestions.situational];
            } else {
                questionPool = roleQuestions[interviewState.interviewType] || roleQuestions.behavioral;
            }

            // Randomly select questions
            interviewState.questions = questionPool.sort(() => 0.5 - Math.random()).slice(0, 5);
        }

        function displayQuestion() {
            const question = interviewState.questions[interviewState.currentQuestion];
            document.getElementById('questionNumber').textContent = interviewState.currentQuestion + 1;
            document.getElementById('totalQuestions').textContent = interviewState.totalQuestions;
            
            // Show typing indicator
            document.getElementById('typingIndicator').classList.remove('hidden');
            document.getElementById('interviewerMessage').textContent = '';
            
            // Simulate AI typing
            setTimeout(() => {
                document.getElementById('typingIndicator').classList.add('hidden');
                typeMessage(question, document.getElementById('interviewerMessage'));
            }, 1500);
        }

        function typeMessage(message, element) {
            let i = 0;
            element.textContent = '';
            const typing = setInterval(() => {
                element.textContent += message.charAt(i);
                i++;
                if (i > message.length) {
                    clearInterval(typing);
                }
            }, 50);
        }

        function submitAnswer() {
            const answer = document.getElementById('userAnswer').value.trim();
            if (!answer) {
                alert('Please provide an answer before submitting.');
                return;
            }

            // Store answer
            interviewState.answers.push({
                question: interviewState.questions[interviewState.currentQuestion],
                answer: answer,
                timestamp: new Date()
            });

            // Clear answer field
            document.getElementById('userAnswer').value = '';

            // Generate feedback
            generateFeedback(answer);
        }

        function skipQuestion() {
            interviewState.answers.push({
                question: interviewState.questions[interviewState.currentQuestion],
                answer: '[Skipped]',
                timestamp: new Date()
            });

            nextQuestion();
        }

        function generateFeedback(answer) {
            // Simulate AI feedback generation
            document.getElementById('typingIndicator').classList.remove('hidden');
            
            setTimeout(() => {
                document.getElementById('typingIndicator').classList.add('hidden');
                
                const feedback = getAIFeedback(answer, interviewState.questions[interviewState.currentQuestion]);
                document.getElementById('feedbackContent').textContent = feedback.overall;
                document.getElementById('strengths').textContent = feedback.strengths;
                document.getElementById('improvements').textContent = feedback.improvements;
                
                // Update score
                interviewState.score += feedback.score;
                updateScoreDisplay();
                
                document.getElementById('feedback').classList.remove('hidden');
            }, 2000);
        }

        function getAIFeedback(answer, question) {
            // Simulate AI analysis
            const wordCount = answer.split(' ').length;
            let score = 0;
            let overall = '';
            let strengths = '';
            let improvements = '';

            if (wordCount < 10) {
                score = 3;
                overall = 'Your answer was quite brief. Consider providing more specific examples and details.';
                strengths = 'Concise communication';
                improvements = 'Add more detail and specific examples';
            } else if (wordCount < 30) {
                score = 6;
                overall = 'Good start! Your answer touches on key points but could benefit from more depth.';
                strengths = 'Clear communication, relevant points';
                improvements = 'Provide more specific examples and elaboration';
            } else if (wordCount < 60) {
                score = 8;
                overall = 'Well-structured answer with good detail. You demonstrated clear thinking.';
                strengths = 'Detailed response, good structure';
                improvements = 'Consider adding metrics or outcomes';
            } else {
                score = 9;
                overall = 'Excellent comprehensive answer! You provided great detail and examples.';
                strengths = 'Comprehensive, well-structured, specific examples';
                improvements = 'Minor: Watch for potential over-elaboration';
            }

            // Bonus points for certain keywords based on question type
            if (question.toLowerCase().includes('challenge') && answer.toLowerCase().includes('solution')) {
                score += 1;
            }
            if (question.toLowerCase().includes('team') && answer.toLowerCase().includes('collaboration')) {
                score += 1;
            }

            return {
                score: Math.min(score, 10),
                overall,
                strengths,
                improvements
            };
        }

        function updateScoreDisplay() {
            const avgScore = Math.round((interviewState.score / (interviewState.currentQuestion + 1)) * 10);
            const percentage = Math.min(avgScore * 10, 100);
            
            document.getElementById('currentScore').textContent = percentage + '%';
            
            // Update progress circle
            const circle = document.getElementById('scoreCircle');
            const circumference = 2 * Math.PI * 40;
            const offset = circumference - (percentage / 100) * circumference;
            circle.style.strokeDashoffset = offset;
        }

        function nextQuestion() {
            document.getElementById('feedback').classList.add('hidden');
            interviewState.currentQuestion++;
            
            if (interviewState.currentQuestion >= interviewState.totalQuestions) {
                showInterviewResults();
            } else {
                displayQuestion();
            }
        }

        function endInterview() {
            if (confirm('Are you sure you want to end the interview? Your progress will be saved.')) {
                showInterviewResults();
            }
        }

        function showInterviewResults() {
            document.getElementById('interviewSession').classList.add('hidden');
            document.getElementById('interviewResults').classList.remove('hidden');
            
            const totalPossibleScore = interviewState.totalQuestions * 10;
            const finalPercentage = Math.round((interviewState.score / totalPossibleScore) * 100);
            
            // Update final score display
            document.getElementById('finalScore').textContent = finalPercentage + '%';
            const finalCircle = document.getElementById('finalScoreCircle');
            const circumference = 2 * Math.PI * 40;
            const offset = circumference - (finalPercentage / 100) * circumference;
            finalCircle.style.strokeDashoffset = offset;
            
            // Generate score breakdown
            generateScoreBreakdown(finalPercentage);
            
            // Generate key insights
            generateKeyInsights();
            
            // Generate recommendations
            generateRecommendations();
        }

        function generateScoreBreakdown(finalPercentage) {
            const breakdown = document.getElementById('scoreBreakdown');
            let level = '';
            let color = '';
            
            if (finalPercentage >= 80) {
                level = 'Excellent';
                color = 'text-green-600';
            } else if (finalPercentage >= 60) {
                level = 'Good';
                color = 'text-blue-600';
            } else if (finalPercentage >= 40) {
                level = 'Fair';
                color = 'text-yellow-600';
            } else {
                level = 'Needs Improvement';
                color = 'text-red-600';
            }
            
            breakdown.innerHTML = `
                <div class="flex justify-between">
                    <span>Performance Level:</span>
                    <span class="${color} font-semibold">${level}</span>
                </div>
                <div class="flex justify-between">
                    <span>Questions Answered:</span>
                    <span>${interviewState.answers.filter(a => a.answer !== '[Skipped]').length}/${interviewState.totalQuestions}</span>
                </div>
                <div class="flex justify-between">
                    <span>Average Response Quality:</span>
                    <span>${Math.round(interviewState.score / interviewState.answers.length * 10) / 10}/10</span>
                </div>
            `;
        }

        function generateKeyInsights() {
            const insights = document.getElementById('keyInsights');
            const answeredQuestions = interviewState.answers.filter(a => a.answer !== '[Skipped]');
            const avgWordCount = answeredQuestions.reduce((sum, a) => sum + a.answer.split(' ').length, 0) / answeredQuestions.length;
            
            let communicationStyle = '';
            if (avgWordCount < 20) {
                communicationStyle = 'Concise communicator - you get to the point quickly';
            } else if (avgWordCount < 50) {
                communicationStyle = 'Balanced communicator - good detail without over-explaining';
            } else {
                communicationStyle = 'Detailed communicator - you provide comprehensive answers';
            }
            
            insights.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span class="w-2 h-2 bg-blue-500 rounded-full"></span>
                    <span>${communicationStyle}</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                    <span>Completed ${interviewState.answers.length} questions in interview</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="w-2 h-2 bg-purple-500 rounded-full"></span>
                    <span>Interview focus: ${interviewState.interviewType} questions</span>
                </div>
            `;
        }

        function generateRecommendations() {
            const recommendations = document.getElementById('recommendations');
            const finalPercentage = Math.round((interviewState.score / (interviewState.totalQuestions * 10)) * 100);
            
            let recs = [];
            
            if (finalPercentage < 60) {
                recs.push({
                    icon: '📚',
                    title: 'Practice More',
                    desc: 'Consider doing more mock interviews to build confidence and improve your responses.'
                });
                recs.push({
                    icon: '💡',
                    title: 'STAR Method',
                    desc: 'Learn the STAR method (Situation, Task, Action, Result) for behavioral questions.'
                });
            } else if (finalPercentage < 80) {
                recs.push({
                    icon: '📈',
                    title: 'Add Specific Examples',
                    desc: 'Include more quantified achievements and specific examples in your answers.'
                });
                recs.push({
                    icon: '🎯',
                    title: 'Research the Company',
                    desc: 'Show more knowledge about the company and role in your responses.'
                });
            } else {
                recs.push({
                    icon: '⭐',
                    title: 'Excellent Preparation',
                    desc: 'You\'re well-prepared! Focus on staying confident during the actual interview.'
                });
                recs.push({
                    icon: '💼',
                    title: 'Ready to Interview',
                    desc: 'Consider applying to your target companies - you\'re interview-ready!'
                });
            }
            
            recommendations.innerHTML = recs.map(rec => `
                <div class="flex items-start space-x-3 p-3 bg-gray-50 rounded-lg">
                    <span class="text-2xl">${rec.icon}</span>
                    <div>
                        <h5 class="font-semibold text-gray-900">${rec.title}</h5>
                        <p class="text-sm text-gray-700">${rec.desc}</p>
                    </div>
                </div>
            `).join('');
        }

        function retryInterview() {
            resetInterviewState();
        }

        function saveInterviewResults() {
            const results = {
                id: Date.now(),
                timestamp: new Date(),
                jobRole: interviewState.jobRole,
                experienceLevel: interviewState.experienceLevel,
                interviewType: interviewState.interviewType,
                finalScore: Math.round((interviewState.score / (interviewState.totalQuestions * 10)) * 100),
                questionsAnswered: interviewState.answers.length,
                answers: interviewState.answers
            };
            
            const savedInterviews = JSON.parse(localStorage.getItem('interviewResults') || '[]');
            savedInterviews.push(results);
            localStorage.setItem('interviewResults', JSON.stringify(savedInterviews));
            
            alert('Interview results saved successfully!');
        }

        // Modal Functions
        function openResumeBuilder() {
            document.getElementById('resumeModal').classList.remove('hidden');
        }

        function closeResumeBuilder() {
            document.getElementById('resumeModal').classList.add('hidden');
        }

        function openSalaryNegotiator() {
            document.getElementById('salaryModal').classList.remove('hidden');
        }

        function closeSalaryNegotiator() {
            document.getElementById('salaryModal').classList.add('hidden');
        }

        function openRoadmap() {
            document.getElementById('roadmapModal').classList.remove('hidden');
        }

        function closeRoadmap() {
            document.getElementById('roadmapModal').classList.add('hidden');
        }

        // AI Tools Functions
        function openAITool(toolType) {
            const modal = document.getElementById('aiToolModal');
            const title = document.getElementById('aiToolTitle');
            const content = document.getElementById('aiToolContent');
            
            const tools = {
                interview: {
                    title: '🎤 Interview Prep AI',
                    content: `
                        <div class="space-y-4">
                            <p class="text-gray-700 font-medium">Practice with AI-generated interview questions specific to your field.</p>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2 text-gray-900">Mock Interview Session</h4>
                                <select class="w-full p-3 border rounded mb-3 text-gray-900">
                                    <option>Software Developer</option>
                                    <option>Data Scientist</option>
                                    <option>UX Designer</option>
                                    <option>Marketing Specialist</option>
                                </select>
                                <button class="bg-gradient-to-r from-teal-500 to-blue-600 text-white px-4 py-2 rounded hover:from-teal-600 hover:to-blue-700 font-medium">
                                    Start Practice Session
                                </button>
                            </div>
                            <div class="bg-green-50 p-3 rounded">
                                <p class="text-sm text-green-800 font-medium">🎯 Get personalized feedback on your answers and body language tips</p>
                            </div>
                        </div>
                    `
                }
            };
            
            const tool = tools[toolType];
            title.textContent = tool.title;
            content.innerHTML = tool.content;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeAIToolModal() {
            document.getElementById('aiToolModal').classList.add('hidden');
            document.getElementById('aiToolModal').classList.remove('flex');
        }

        // Form submission
        document.getElementById('careerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const skills = formData.getAll('skills');
            const interests = formData.getAll('interests');
            const workStyle = formData.get('workStyle');

            if (skills.length === 0 || interests.length === 0 || !workStyle) {
                alert('Please fill in all sections to get accurate recommendations.');
                return;
            }

            currentAssessment = { skills, interests, workStyle, timestamp: new Date() };
            
            showLoading();
            
            // Simulate AI processing time
            setTimeout(() => {
                generateRecommendations(skills, interests, workStyle);
            }, 3000);
        });

        function showLoading() {
            hideAllScreens();
            document.getElementById('loadingScreen').classList.remove('hidden');
            document.getElementById('loadingScreen').classList.add('fade-in');
        }

        function generateRecommendations(skills, interests, workStyle) {
            const recommendations = [];
            
            // Generate career matches based on skills and interests
            skills.forEach(skill => {
                interests.forEach(interest => {
                    const key = `${skill},${interest}`;
                    if (careerDatabase[key]) {
                        recommendations.push(careerDatabase[key]);
                    }
                });
            });

            // Add some general recommendations if no specific matches
            if (recommendations.length === 0) {
                recommendations.push({
                    title: 'Business Analyst',
                    description: 'Bridge the gap between business needs and technical solutions through analysis and communication.',
                    skills: ['Excel', 'SQL', 'Communication', 'Problem Solving'],
                    demand: 78,
                    confidence: 75,
                    reasoning: 'General recommendation based on your diverse skill set. Good entry point for many industries.'
                });
            }

            // Limit to top 3 recommendations
            const topRecommendations = recommendations.slice(0, 3);
            
            displayResults(topRecommendations);
        }

        function displayResults(recommendations) {
            hideAllScreens();
            
            const container = document.getElementById('careerRecommendations');
            container.innerHTML = '';

            recommendations.forEach((career, index) => {
                const card = createCareerCard(career, index);
                container.appendChild(card);
            });

            generateLearningPath(recommendations[0]);
            
            document.getElementById('resultsScreen').classList.remove('hidden');
            document.getElementById('resultsScreen').classList.add('fade-in');
        }

        function createCareerCard(career, index) {
            const card = document.createElement('div');
            card.className = 'bg-white rounded-lg shadow-lg p-6 card-hover';
            
            card.innerHTML = `
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-xl font-semibold text-gray-900">${career.title}</h3>
                    <div class="flex items-center space-x-2">
                        <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium">
                            ${career.confidence}% Confidence
                        </span>
                        <button onclick="showReasoning('${career.title}', '${career.reasoning}')" class="text-blue-600 hover:text-blue-800 text-sm underline font-medium">
                            Why this?
                        </button>
                    </div>
                </div>
                
                <p class="text-gray-700 mb-4 font-medium">${career.description}</p>
                
                <div class="mb-4">
                    <h4 class="font-medium text-gray-900 mb-2">Top Skills to Learn:</h4>
                    <div class="flex flex-wrap gap-2">
                        ${career.skills.map(skill => `
                            <span class="bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm font-medium">${skill}</span>
                        `).join('')}
                    </div>
                </div>
                
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <span class="text-sm text-gray-700 mr-2 font-medium">Future Demand:</span>
                        <div class="w-24 bg-gray-200 rounded-full h-3 overflow-hidden">
                            <div class="progress-bar h-3 rounded-full" style="width: ${career.demand}%"></div>
                        </div>
                        <span class="text-sm text-gray-700 ml-2 font-medium">${career.demand}%</span>
                    </div>
                    <button onclick="openFeedbackModal('${career.title}')" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                        📝 Feedback
                    </button>
                </div>
            `;
            
            return card;
        }

        function generateLearningPath(topCareer) {
            const container = document.getElementById('learningPath');
            const resources = learningResources[topCareer.title] || [];
            
            container.innerHTML = `
                <h4 class="font-medium text-gray-900 mb-3">3-Month Learning Plan for ${topCareer.title}:</h4>
                <div class="space-y-3">
                    ${resources.map((resource, index) => `
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div>
                                <h5 class="font-medium text-gray-900">${resource.name}</h5>
                                <p class="text-sm text-gray-700 font-medium">${resource.description}</p>
                            </div>
                            <span class="px-2 py-1 rounded-full text-xs font-medium ${
                                resource.type === 'Free' ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'
                            }">
                                ${resource.type}
                            </span>
                        </div>
                    `).join('')}
                </div>
                <div class="mt-4 p-3 bg-blue-50 rounded-lg">
                    <p class="text-sm text-blue-800 font-medium">
                        💡 <strong>Pro Tip:</strong> Start with free resources to explore your interest, then invest in paid courses for deeper expertise.
                    </p>
                </div>
            `;
        }

        function showReasoning(title, reasoning) {
            alert(`Why we recommended ${title}:\n\n${reasoning}`);
        }

        function openFeedbackModal(careerTitle) {
            currentFeedbackCareer = careerTitle;
            document.getElementById('feedbackModal').classList.remove('hidden');
            document.getElementById('feedbackModal').classList.add('flex');
        }

        function closeFeedbackModal() {
            document.getElementById('feedbackModal').classList.add('hidden');
            document.getElementById('feedbackModal').classList.remove('flex');
            currentFeedbackCareer = null;
        }

        function submitFeedback(type) {
            // In a real app, this would send feedback to the AI system
            const message = type === 'positive' ? 
                'Thank you for your positive feedback! This helps improve our recommendations.' :
                'Thank you for your feedback. We\'ll use this to improve our AI recommendations.';
            
            alert(message);
            closeFeedbackModal();
        }

        function saveResults() {
            if (!currentAssessment) return;
            
            const savedResults = JSON.parse(localStorage.getItem('careerAssessments') || '[]');
            const assessment = {
                ...currentAssessment,
                id: Date.now(),
                results: document.getElementById('careerRecommendations').innerHTML
            };
            
            savedResults.push(assessment);
            localStorage.setItem('careerAssessments', JSON.stringify(savedResults));
            
            alert('Results saved successfully! You can view them anytime.');
        }

        function loadSavedResults() {
            const savedResults = JSON.parse(localStorage.getItem('careerAssessments') || '[]');
            
            if (savedResults.length > 0) {
                // Add a button to view saved results in the header
                const header = document.querySelector('header .container');
                if (!document.getElementById('viewSavedBtn')) {
                    const button = document.createElement('button');
                    button.id = 'viewSavedBtn';
                    button.className = 'absolute top-4 right-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg text-sm transition-colors font-medium';
                    button.textContent = `📋 View Saved (${savedResults.length})`;
                    button.onclick = showSavedResults;
                    header.style.position = 'relative';
                    header.appendChild(button);
                }
            }
        }

        function showSavedResults() {
            const savedResults = JSON.parse(localStorage.getItem('careerAssessments') || '[]');
            const container = document.getElementById('savedResultsList');
            
            container.innerHTML = savedResults.map(assessment => `
                <div class="border-b pb-4 mb-4 last:border-b-0">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-medium text-gray-900">Assessment from ${new Date(assessment.timestamp).toLocaleDateString()}</h4>
                        <button onclick="deleteAssessment(${assessment.id})" class="text-red-600 hover:text-red-800 text-sm font-medium">
                            🗑️ Delete
                        </button>
                    </div>
                    <p class="text-sm text-gray-700 mb-2 font-medium">
                        Skills: ${assessment.skills.join(', ')} | 
                        Interests: ${assessment.interests.join(', ')} | 
                        Work Style: ${assessment.workStyle}
                    </p>
                </div>
            `).join('') || '<p class="text-gray-500">No saved assessments yet.</p>';
            
            hideAllScreens();
            document.getElementById('savedResults').classList.remove('hidden');
        }

        function deleteAssessment(id) {
            const savedResults = JSON.parse(localStorage.getItem('careerAssessments') || '[]');
            const filtered = savedResults.filter(assessment => assessment.id !== id);
            localStorage.setItem('careerAssessments', JSON.stringify(filtered));
            
            showSavedResults();
            loadSavedResults(); // Update the button counter
        }

        function startOver() {
            currentAssessment = null;
            document.getElementById('careerForm').reset();
            showWelcomeScreen();
        }

        // Initialize the app
        init();
    </script>
</body>
</html>
